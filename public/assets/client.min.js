angular.module("dingDogSwitchApp",["ngRoute","ngAnimate"]),angular.module("dingDogSwitchApp").config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/views/login.html",controller:"LoginController",controllerAs:"login"}).when("/loginFail",{templateUrl:"/views/loginFail.html"}).when("/register",{templateUrl:"/views/register.html",controller:"RegisterController",controllerAs:"register"}).when("/registrationFail",{templateUrl:"/views/registrationFail.html"}).when("/api/main",{templateUrl:"views/main.html",controller:"MainController",controllerAs:"main"}).when("/api/history",{templateUrl:"views/history.html",controller:"HistoryController",controllerAs:"history"}),b.html5Mode(!0)}]),angular.module("dingDogSwitchApp").controller("HistoryController",["$http",function(a){function b(){a.get("/api/history").then(function(a){c.list=a.data.rows})}var c=this;c.list=[],b()}]),angular.module("dingDogSwitchApp").controller("LoginController",["$http","$location",function(a,b){function c(a){b.path("/api/main")}function d(a){console.log("Failure posting login info",a),b.path("/loginFail")}var e=this;e.phoneNumber="",e.password="",e.login=function(){var b={};b.phonenumber=e.phoneNumber,b.password=e.password,a.post("/login",b).then(c,d)}}]),angular.module("dingDogSwitchApp").controller("MainController",["$http","$timeout",function(a,b){function c(){a.get("/api/main").then(function(a){f.list=a.data.rows})}function d(a){f.updated=!0,b(function(){f.updated=!1},3e3)}function e(a){console.log("Failure posting new text content",a)}var f=this;f.list=[],c(),f.refresh=function(){c()},f.updated=!1,f.update=function(){var b={};b.textContent=f.textContent,a.post("/api/main",b).then(d,e),f.textContent=""}}]),angular.module("dingDogSwitchApp").controller("RegisterController",["$http","$location",function(a,b){function c(a){b.path("/")}function d(a){console.log("Failure posting registration info",a),b.path("/registrationFail")}var e=this;e.phoneNumber="",e.passwordFirst="",e.passwordSecond="",e.register=function(){var b={};b.phoneNumber=e.phoneNumber,b.passwordFirst=e.passwordFirst,b.passwordSecond=e.passwordSecond,a.post("/register",b).then(c,d)}}]);